build_frc_website:
  stage: build
  rules:
    - if: "$CI_COMMIT_TAG || $CI_MERGE_REQUEST_ID || $CI_COMMIT_BRANCH == 'master'"
      changes:
        - applications/frc-website/**
        - components/**
        - libraries/**
  needs: [install]
  before_script:
    - yarn config set cache-folder ~/.yarn
  script:
    - yarn workspace @bmi/frc-website build
  artifacts:
    paths:
      - applications/frc-website/.cache/
      - applications/frc-website/public/
  interruptible: true
