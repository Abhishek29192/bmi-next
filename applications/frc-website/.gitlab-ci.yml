build_frc_website:
  stage: build
  rules:
    - if: "$CI_PIPELINE_SOURCE == 'merge_request_event' || $CI_COMMIT_BRANCH == 'master'"
  needs: [install]
  before_script:
    - '[[ "${bin/ingore_build.sh applications/frc-website components libraries}" == "true" ]] && exit 0 || echo "Running job"'
    - yarn config set cache-folder ~/.yarn
  script:
    - yarn workspace @bmi/frc-website build
  artifacts:
    paths:
      - applications/frc-website/.cache/
      - applications/frc-website/public/
  interruptible: true
