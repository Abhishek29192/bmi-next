overwrite: true
schema:
  # use local schema files of the services, so that in watch mode,
  # codegen will listen to changes in the schema files and regenerate types + schema
  # the watch mode is used when the gateway dev script is run
  - ../services/**/schema.graphql

generates:
  ./schema.graphql:
    plugins:
      - schema-ast

  # generate types in separate exportable package
  # this makes it easier to use the types across multiple packages (e.g. functions)
  # without having to expose the gateway as a "public" package
  ../types/index.ts:
    plugins:
      - typescript
